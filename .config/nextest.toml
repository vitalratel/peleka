# ABOUTME: Configuration for cargo-nextest test runner.
# ABOUTME: Defines test profiles and group-based filtering for CI.

[profile.default]
test-threads = "num-cpus"

[profile.ci]
fail-fast = false
slow-timeout = { period = "60s", terminate-after = 2 }

[profile.ci.junit]
path = "junit.xml"

# Podman tests run serially to share the container
[[profile.default.overrides]]
filter = 'test(::podman::)'
threads-required = 'num-cpus'

[[profile.ci.overrides]]
filter = 'test(::podman::)'
threads-required = 'num-cpus'
